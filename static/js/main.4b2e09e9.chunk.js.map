{"version":3,"sources":["api/api.js","components/TodoItem.jsx","components/TodoUser.jsx","components/TodoList.jsx","App.js","index.js"],"names":["getTodos","fetch","then","res","json","getUsers","TodoItem","_ref","task","react_default","a","createElement","Fragment","className","id","type","defaultChecked","completed","title","TodoUser","user","name","email","FILTER","BY_ID","BY_COMPLETE","BY_TITLE","BY_NAME","BY_EMAIL","TodoList","_direction","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadData","event","target","innerText","disabled","setTimeout","asyncToGenerator","regenerator_default","mark","_callee","_ref2","_ref3","TODOS","USERS","ITEM","wrap","_context","prev","next","Promise","all","sent","slicedToArray","joinTodosAndUsers","setState","data","stop","todos","users","map","todo","objectSpread","find","userId","sortBy","FILTER_BY","_callbackMap","callbackMap","defineProperty","b","state","direction","parseFloat","localeCompare","sort","sortField","handleSort","console","log","prevState","assign","_this2","preparedData","length","onClick","key","components_TodoItem","onSort","components_TodoUser","Component","App","components_TodoList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4b2e09e9.chunk.js","sourcesContent":["export const getTodos = () => {\r\n  return fetch(\"https://jsonplaceholder.typicode.com/todos\").then(res =>\r\n    res.json()\r\n  );\r\n};\r\n\r\nexport const getUsers = () => {\r\n  return fetch(\"https://jsonplaceholder.typicode.com/users\").then(res =>\r\n    res.json()\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst TodoItem = ({ task }) => {\r\n  return (\r\n    <>\r\n      <td className=\"todos__td\">{task.id}</td>\r\n      <td className=\"todos__td\">\r\n        <input\r\n          className=\"todo__checkbox\"\r\n          type=\"checkbox\"\r\n          defaultChecked={task.completed}\r\n        />\r\n      </td>\r\n      <td className=\"todos__td\">{task.title}</td>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import React from \"react\";\r\n\r\nconst TodoUser = ({ user }) => {\r\n  return (\r\n    <>\r\n      <td className=\"todos__td\">{user.name}</td>\r\n      <td className=\"todos__td\">{user.email}</td>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoUser;\r\n","import React, { Component } from \"react\";\r\nimport { getTodos, getUsers } from \"../api/api\";\r\nimport TodoItem from \"./TodoItem\";\r\nimport TodoUser from \"./TodoUser\";\r\n\r\nconst FILTER = {\r\n  BY_ID: \"id\",\r\n  BY_COMPLETE: \"completed\",\r\n  BY_TITLE: \"title\",\r\n  BY_NAME: \"name\",\r\n  BY_EMAIL: \"email\"\r\n};\r\n\r\nclass TodoList extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      data: [],\r\n      sortField: FILTER.BY_ID,\r\n      direction: {\r\n        [FILTER.BY_ID]: \"asc\",\r\n        [FILTER.BY_COMPLETE]: \"asc\",\r\n        [FILTER.BY_TITLE]: \"asc\",\r\n        [FILTER.BY_NAME]: \"asc\",\r\n        [FILTER.BY_EMAIL]: \"asc\"\r\n      }\r\n    };\r\n\r\n    this.handleSort = sortField => {\r\n      console.log(sortField);\r\n      console.log(this.state.direction);\r\n\r\n      this.setState(prevState => {\r\n        return {\r\n          sortField: sortField,\r\n          direction: Object.assign(prevState.direction, {\r\n            [sortField]:\r\n              prevState.direction[sortField] === \"asc\" ? \"desc\" : \"asc\"\r\n          })\r\n        };\r\n      });\r\n    };\r\n  }\r\n\r\n  loadData = event => {\r\n    event.target.innerText = \"Loading...\";\r\n    event.target.disabled = true;\r\n\r\n    // Emulate server response\r\n    setTimeout(async () => {\r\n      const [TODOS, USERS] = await Promise.all([getTodos(), getUsers()]);\r\n      const ITEM = this.joinTodosAndUsers(TODOS, USERS);\r\n      this.setState({\r\n        data: ITEM\r\n      });\r\n    }, 351);\r\n  };\r\n\r\n  joinTodosAndUsers = (todos, users) => {\r\n    return todos.map(todo => ({\r\n      ...todo,\r\n      user: users.find(user => user.id === todo.userId)\r\n    }));\r\n  };\r\n\r\n  sortBy = FILTER_BY => {\r\n    const callbackMap = {\r\n      [FILTER.BY_ID]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? parseFloat(a.id) - parseFloat(b.id)\r\n          : parseFloat(b.id) - parseFloat(a.id);\r\n      },\r\n\r\n      [FILTER.BY_COMPLETE]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? a.completed - b.completed\r\n          : b.completed - a.completed;\r\n      },\r\n      [FILTER.BY_TITLE]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? a.title.localeCompare(b.title)\r\n          : b.title.localeCompare(a.title);\r\n      },\r\n      [FILTER.BY_NAME]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? a.user.name.localeCompare(b.user.name)\r\n          : b.user.name.localeCompare(a.user.name);\r\n      },\r\n      [FILTER.BY_EMAIL]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? a.user.email.localeCompare(b.user.email)\r\n          : b.user.email.localeCompare(a.user.email);\r\n      }\r\n    };\r\n\r\n    return this.state.data.sort(callbackMap[FILTER_BY]);\r\n  };\r\n\r\n  render() {\r\n    const { sortField } = this.state;\r\n    const preparedData = this.sortBy(sortField);\r\n\r\n    return (\r\n      <>\r\n        {preparedData.length ? (\r\n          <table>\r\n            <thead>\r\n              <tr className=\"todo__row\">\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_ID)}\r\n                >\r\n                  Id\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_COMPLETE)}\r\n                >\r\n                  {/* isComplete */}\r\n                  &#10004;\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_TITLE)}\r\n                >\r\n                  Title\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_NAME)}\r\n                >\r\n                  Name\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_EMAIL)}\r\n                >\r\n                  Email\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {preparedData.map(task => {\r\n                return (\r\n                  <tr className=\"todo__row\" key={task.id}>\r\n                    <TodoItem task={task} onSort={this.handleSort} />\r\n                    <TodoUser user={task.user} />\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <button\r\n            className=\"loadDataButton\"\r\n            onClick={event => this.loadData(event)}\r\n          >\r\n            Click...( ͡° ͜ʖ ͡°)\r\n          </button>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TodoList;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport TodoList from \"./components/TodoList\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <TodoList />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}