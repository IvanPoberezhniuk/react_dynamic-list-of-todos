{"version":3,"sources":["api/api.js","components/TodoItem.jsx","components/TodoUser.jsx","components/TodoList.jsx","App.js","index.js"],"names":["URL","getTodos","fetch","concat","then","res","json","getUsers","TodoItem","_ref","task","react_default","a","createElement","Fragment","className","id","type","defaultChecked","completed","title","TodoUser","user","name","email","FILTER","BY_ID","BY_COMPLETE","BY_TITLE","BY_NAME","BY_EMAIL","TodoList","_direction","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadTodos","asyncToGenerator","regenerator_default","mark","_callee","event","_ref2","_ref3","todos","users","item","wrap","_context","prev","next","setState","buttonInnerText","buttonDisabled","Promise","all","sent","slicedToArray","joinTodosAndUsers","isLoaded","t0","buttonStyle","message","stop","_x","apply","arguments","map","todo","objectSpread","find","userId","sortBy","filterBy","_callbackMap","callbackMap","defineProperty","b","state","direction","parseFloat","localeCompare","sort","sortField","handleSort","prevState","assign","_this2","_this$state","preparedTodos","onClick","key","components_TodoItem","onSort","components_TodoUser","disabled","Component","App","components_TodoList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.abb32340.chunk.js","sourcesContent":["const URL = \"https://jsonplaceholder.typicode.com\";\r\n\r\nexport const getTodos = () => {\r\n  return fetch(`${URL}/todos`)\r\n  .then(res => res.json());\r\n};\r\n\r\nexport const getUsers = () => {\r\n  return fetch(`${URL}/users`)\r\n  .then(res => res.json());\r\n};\r\n","import React from \"react\";\r\n\r\nconst TodoItem = ({ task }) => {\r\n  return (\r\n    <>\r\n      <td className=\"todos__td\">{task.id}</td>\r\n      <td className=\"todos__td\">\r\n        <input\r\n          className=\"todo__checkbox\"\r\n          type=\"checkbox\"\r\n          defaultChecked={task.completed}\r\n        />\r\n      </td>\r\n      <td className=\"todos__td\">{task.title}</td>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import React from \"react\";\r\n\r\nconst TodoUser = ({ user }) => {\r\n  return (\r\n    <>\r\n      <td className=\"todos__td\">{user.name}</td>\r\n      <td className=\"todos__td\">{user.email}</td>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoUser;\r\n","import React, { Component } from \"react\";\r\nimport { getTodos, getUsers } from \"../api/api\";\r\nimport TodoItem from \"./TodoItem\";\r\nimport TodoUser from \"./TodoUser\";\r\n\r\nconst FILTER = {\r\n  BY_ID: \"id\",\r\n  BY_COMPLETE: \"completed\",\r\n  BY_TITLE: \"title\",\r\n  BY_NAME: \"name\",\r\n  BY_EMAIL: \"email\"\r\n};\r\n\r\nclass TodoList extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      todos: [],\r\n      isLoaded: false,\r\n      buttonStyle: \"\",\r\n      buttonInnerText: \"Click...( ͡° ͜ʖ ͡°)\",\r\n      sortField: FILTER.BY_ID,\r\n      direction: {\r\n        [FILTER.BY_ID]: \"asc\",\r\n        [FILTER.BY_COMPLETE]: \"asc\",\r\n        [FILTER.BY_TITLE]: \"asc\",\r\n        [FILTER.BY_NAME]: \"asc\",\r\n        [FILTER.BY_EMAIL]: \"asc\"\r\n      },\r\n      buttonDisabled: false\r\n    };\r\n\r\n    this.handleSort = sortField => {\r\n      this.setState(prevState => {\r\n        return {\r\n          sortField: sortField,\r\n          direction: Object.assign(prevState.direction, {\r\n            [sortField]:\r\n              prevState.direction[sortField] === \"asc\" ? \"desc\" : \"asc\"\r\n          })\r\n        };\r\n      });\r\n    };\r\n  }\r\n\r\n  loadTodos = async event => {\r\n    this.setState({\r\n      buttonInnerText: \"Loading...\",\r\n      buttonDisabled: true\r\n    });\r\n\r\n    try {\r\n      const [todos, users] = await Promise.all([getTodos(), getUsers()]);\r\n      const item = this.joinTodosAndUsers(todos, users);\r\n\r\n      this.setState({\r\n        todos: item,\r\n        isLoaded: true\r\n      });\r\n    } catch (err) {\r\n      this.setState({\r\n        buttonStyle: \"error\",\r\n        buttonInnerText: `${err.message}`\r\n      });\r\n    }\r\n  };\r\n\r\n  joinTodosAndUsers = (todos, users) => {\r\n    return todos.map(todo => ({\r\n      ...todo,\r\n      user: users.find(user => user.id === todo.userId)\r\n    }));\r\n  };\r\n\r\n  sortBy = filterBy => {\r\n    const callbackMap = {\r\n      [FILTER.BY_ID]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? parseFloat(a.id) - parseFloat(b.id)\r\n          : parseFloat(b.id) - parseFloat(a.id);\r\n      },\r\n\r\n      [FILTER.BY_COMPLETE]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? a.completed - b.completed\r\n          : b.completed - a.completed;\r\n      },\r\n      [FILTER.BY_TITLE]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? a.title.localeCompare(b.title)\r\n          : b.title.localeCompare(a.title);\r\n      },\r\n      [FILTER.BY_NAME]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? a.user.name.localeCompare(b.user.name)\r\n          : b.user.name.localeCompare(a.user.name);\r\n      },\r\n      [FILTER.BY_EMAIL]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? a.user.email.localeCompare(b.user.email)\r\n          : b.user.email.localeCompare(a.user.email);\r\n      }\r\n    };\r\n\r\n    return this.state.todos.sort(callbackMap[filterBy]);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      sortField,\r\n      buttonInnerText,\r\n      isLoaded,\r\n      buttonStyle,\r\n      buttonDisabled\r\n    } = this.state;\r\n    const preparedTodos = this.sortBy(sortField);\r\n\r\n    return (\r\n      <>\r\n        {isLoaded ? (\r\n          <table>\r\n            <thead>\r\n              <tr className=\"todo__row\">\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_ID)}\r\n                >\r\n                  Id\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_COMPLETE)}\r\n                >\r\n                  {/* isComplete symbol */}\r\n                  &#10004;\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_TITLE)}\r\n                >\r\n                  Title\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_NAME)}\r\n                >\r\n                  Name\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_EMAIL)}\r\n                >\r\n                  Email\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {preparedTodos.map(task => {\r\n                return (\r\n                  <tr className=\"todo__row\" key={task.id}>\r\n                    <TodoItem task={task} onSort={this.handleSort} />\r\n                    <TodoUser user={task.user} />\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <button\r\n            className={\"loadTodosButton \" + buttonStyle}\r\n            onClick={this.loadTodos}\r\n            disabled={buttonDisabled}\r\n          >\r\n            {buttonInnerText}\r\n          </button>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TodoList;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport TodoList from \"./components/TodoList\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <TodoList />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}