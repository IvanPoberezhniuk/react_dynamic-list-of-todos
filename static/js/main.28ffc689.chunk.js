(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,o){e.exports=o(33)},27:function(e,t,o){},28:function(e,t,o){},33:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(6),c=o.n(r),s=(o(27),o(28),o(7)),i=o(1),l=o(14),d=o(15),u=o(20),m=o(16),p=o(21),E=o(19),f="FETCH",_="TOGGLE",h="IS_LOADED",b="FETCH_ERROR",O="IS_LOADING",j="DELETE",T="https://jsonplaceholder.typicode.com",L=o(2),B=function(){return function(e){e({type:O}),setTimeout(function(){Promise.all([fetch("".concat(T,"/todos")).then(function(e){return e.json()}),fetch("".concat(T,"/users")).then(function(e){return e.json()})]).then(function(e){var t=Object(E.a)(e,2);return function(e,t){return e.map(function(e){return Object(L.a)({},e,{user:t.find(function(t){return t.id===e.userId})})})}(t[0],t[1])}).then(function(t){e({type:f,payload:t}),e({type:h})}).catch(function(t){e({type:b,error:t.message})}).finally(e({type:O}))},1444)}},g=function(e){var t=e.task,o=e.toggleTodo;return a.a.createElement(a.a.Fragment,null,a.a.createElement("td",{className:"todos__td"},t.id),a.a.createElement("td",{className:"todos__td"},a.a.createElement("input",{className:"todo__checkbox",type:"checkbox",defaultChecked:t.completed,onChange:function(){o(t.id)}})),a.a.createElement("td",{className:"todos__td"},t.title))},y=function(e){var t=e.task,o=e.deleteTodo;return a.a.createElement(a.a.Fragment,null,a.a.createElement("td",{className:"todos__td"},t.user.name),a.a.createElement("td",{className:"todos__td"},t.user.email),a.a.createElement("td",{className:"todos__td"},a.a.createElement("button",{onClick:function(){return o(t.id)}},"X")))},C={BY_ID:"id",BY_COMPLETE:"completed",BY_TITLE:"title",BY_NAME:"name",BY_EMAIL:"email"},N=function(e){function t(){var e,o,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={buttonStyle:"",buttonInnerText:"Click...( \u0361\xb0 \u035c\u0296 \u0361\xb0)",sortField:C.BY_ID,direction:(o={},Object(i.a)(o,C.BY_ID,"asc"),Object(i.a)(o,C.BY_COMPLETE,"asc"),Object(i.a)(o,C.BY_TITLE,"asc"),Object(i.a)(o,C.BY_NAME,"asc"),Object(i.a)(o,C.BY_EMAIL,"asc"),o)},n.handleSort=function(e){n.setState(function(t){return{sortField:e,direction:Object.assign(t.direction,Object(i.a)({},e,"asc"===t.direction[e]?"desc":"asc"))}})},n.sortBy=function(e){var t,o=(t={},Object(i.a)(t,C.BY_ID,function(t,o){return"asc"===n.state.direction[e]?parseFloat(t.id)-parseFloat(o.id):parseFloat(o.id)-parseFloat(t.id)}),Object(i.a)(t,C.BY_COMPLETE,function(t,o){return"asc"===n.state.direction[e]?t.completed-o.completed:o.completed-t.completed}),Object(i.a)(t,C.BY_TITLE,function(t,o){return"asc"===n.state.direction[e]?t.title.localeCompare(o.title):o.title.localeCompare(t.title)}),Object(i.a)(t,C.BY_NAME,function(t,o){return"asc"===n.state.direction[e]?t.user.name.localeCompare(o.user.name):o.user.name.localeCompare(t.user.name)}),Object(i.a)(t,C.BY_EMAIL,function(t,o){return"asc"===n.state.direction[e]?t.user.email.localeCompare(o.user.email):o.user.email.localeCompare(t.user.email)}),t);return(n.props.todos||[]).sort(o[e])},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,o=t.sortField,n=t.buttonInnerText,r=this.sortBy(o);return a.a.createElement(a.a.Fragment,null,this.props.isLoaded?a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",{className:"todo__row"},a.a.createElement("th",{className:"todos__th",onClick:function(){return e.handleSort(C.BY_ID)}},"Id"),a.a.createElement("th",{className:"todos__th",onClick:function(){return e.handleSort(C.BY_COMPLETE)}}),a.a.createElement("th",{className:"todos__th",onClick:function(){return e.handleSort(C.BY_TITLE)}},"Title"),a.a.createElement("th",{className:"todos__th",onClick:function(){return e.handleSort(C.BY_NAME)}},"Name"),a.a.createElement("th",{className:"todos__th",onClick:function(){return e.handleSort(C.BY_EMAIL)}},"Email"),a.a.createElement("th",{className:"todos__th"},"DEL"))),a.a.createElement("tbody",null,r.map(function(t){return a.a.createElement("tr",{className:"todo__row",key:t.id},a.a.createElement(g,{task:t,onSort:e.handleSort,toggleTodo:e.props.toggleTodo}),a.a.createElement(y,{task:t,deleteTodo:e.props.deleteTodo}))}))):a.a.createElement("button",{className:this.props.error?"loadTodosButton error":"loadTodosButton ",onClick:this.props.fetchTodos,disabled:!!this.props.isLoading},this.props.error?this.props.error:n))}}]),t}(n.Component),I=Object(s.b)(function(e){return{todos:e.todoReducer.todos,isLoaded:e.todoReducer.isLoaded,isLoading:e.todoReducer.isLoading,error:e.todoReducer.error}},function(e){return{fetchTodos:function(){return e(B())},toggleTodo:function(t){return e(function(e){return{type:_,id:e}}(t))},deleteTodo:function(t){return e(function(e){return{type:j,id:e}}(t))}}})(N),Y=o(4),k=o(17),v={todos:[],error:null,isLoaded:!1,isLoading:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(L.a)({},e,{todos:t.payload});case _:var o=e.todos.map(function(e){return e.id===t.id?Object(L.a)({},e,{completed:!e.completed}):e});return Object(L.a)({},e,{todos:o});case h:return Object(L.a)({},e,{isLoaded:!e.isLoaded});case O:return Object(L.a)({},e,{isLoading:!e.isLoading});case b:return Object(L.a)({},e,{error:t.error});case j:return Object(L.a)({},e,{todos:e.todos.filter(function(e){return e.id!==t.id})});default:return e}},S=Object(Y.combineReducers)({todoReducer:M}),A=o(18),F=[k.a],w=Object(Y.createStore)(S,Object(A.composeWithDevTools)(Y.applyMiddleware.apply(void 0,F)));var D=function(){return a.a.createElement(s.a,{store:w},a.a.createElement("div",{className:"App"},a.a.createElement(I,null)))};c.a.render(a.a.createElement(D,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.28ffc689.chunk.js.map