{"version":3,"sources":["api/api.js","components/TodoItem.jsx","components/TodoUser.jsx","components/TodoList.jsx","App.js","index.js"],"names":["URL","getTodos","fetch","concat","then","res","json","getUsers","TodoItem","_ref","task","react_default","a","createElement","Fragment","className","id","type","defaultChecked","completed","title","TodoUser","user","name","email","FILTER","BY_ID","BY_COMPLETE","BY_TITLE","BY_NAME","BY_EMAIL","TodoList","_direction","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadTodos","asyncToGenerator","regenerator_default","mark","_callee","event","_ref2","_ref3","todos","users","item","wrap","_context","prev","next","target","disabled","blur","setState","buttonInnerText","Promise","all","sent","slicedToArray","joinTodosAndUsers","isLoaded","t0","buttonStyle","message","stop","_x","apply","arguments","map","todo","objectSpread","find","userId","sortBy","FILTER_BY","_callbackMap","callbackMap","defineProperty","b","state","direction","parseFloat","localeCompare","sort","sortField","handleSort","console","log","prevState","assign","_this2","_this$state","preparedTodos","onClick","key","components_TodoItem","onSort","components_TodoUser","Component","App","components_TodoList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4ce374d8.chunk.js","sourcesContent":["const URL = \"https://jsonplaceholder.typicode.com\";\r\n\r\nexport const getTodos = () => {\r\n  return fetch(`${URL}/todos`)\r\n  .then(res => res.json());\r\n};\r\n\r\nexport const getUsers = () => {\r\n  return fetch(`${URL}/users`)\r\n  .then(res => res.json());\r\n};\r\n","import React from \"react\";\r\n\r\nconst TodoItem = ({ task }) => {\r\n  return (\r\n    <>\r\n      <td className=\"todos__td\">{task.id}</td>\r\n      <td className=\"todos__td\">\r\n        <input\r\n          className=\"todo__checkbox\"\r\n          type=\"checkbox\"\r\n          defaultChecked={task.completed}\r\n        />\r\n      </td>\r\n      <td className=\"todos__td\">{task.title}</td>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import React from \"react\";\r\n\r\nconst TodoUser = ({ user }) => {\r\n  return (\r\n    <>\r\n      <td className=\"todos__td\">{user.name}</td>\r\n      <td className=\"todos__td\">{user.email}</td>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoUser;\r\n","import React, { Component } from \"react\";\r\nimport { getTodos, getUsers } from \"../api/api\";\r\nimport TodoItem from \"./TodoItem\";\r\nimport TodoUser from \"./TodoUser\";\r\n\r\nconst FILTER = {\r\n  BY_ID: \"id\",\r\n  BY_COMPLETE: \"completed\",\r\n  BY_TITLE: \"title\",\r\n  BY_NAME: \"name\",\r\n  BY_EMAIL: \"email\"\r\n};\r\n\r\nclass TodoList extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      todos: [],\r\n      isLoaded: false,\r\n      buttonStyle: \"\",\r\n      buttonInnerText: \"Click...( ͡° ͜ʖ ͡°)\",\r\n      sortField: FILTER.BY_ID,\r\n      direction: {\r\n        [FILTER.BY_ID]: \"asc\",\r\n        [FILTER.BY_COMPLETE]: \"asc\",\r\n        [FILTER.BY_TITLE]: \"asc\",\r\n        [FILTER.BY_NAME]: \"asc\",\r\n        [FILTER.BY_EMAIL]: \"asc\"\r\n      }\r\n    };\r\n\r\n    this.handleSort = sortField => {\r\n      console.log(sortField);\r\n      console.log(this.state.direction);\r\n\r\n      this.setState(prevState => {\r\n        return {\r\n          sortField: sortField,\r\n          direction: Object.assign(prevState.direction, {\r\n            [sortField]:\r\n              prevState.direction[sortField] === \"asc\" ? \"desc\" : \"asc\"\r\n          })\r\n        };\r\n      });\r\n    };\r\n  }\r\n\r\n  loadTodos = async event => {\r\n    event.target.disabled = true;\r\n    event.target.blur();\r\n\r\n    this.setState({\r\n      buttonInnerText: \"Loading...\"\r\n    });\r\n\r\n    try {\r\n      const [todos, users] = await Promise.all([getTodos(), getUsers()]);\r\n      const item = this.joinTodosAndUsers(todos, users);\r\n\r\n      this.setState({\r\n        todos: item,\r\n        isLoaded: true\r\n      });\r\n    } catch (err) {\r\n      this.setState({\r\n        buttonStyle: \"error\",\r\n        buttonInnerText: `${err.message}`\r\n      });\r\n    }\r\n  };\r\n\r\n  joinTodosAndUsers = (todos, users) => {\r\n    return todos.map(todo => ({\r\n      ...todo,\r\n      user: users.find(user => user.id === todo.userId)\r\n    }));\r\n  };\r\n\r\n  sortBy = FILTER_BY => {\r\n    const callbackMap = {\r\n      [FILTER.BY_ID]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? parseFloat(a.id) - parseFloat(b.id)\r\n          : parseFloat(b.id) - parseFloat(a.id);\r\n      },\r\n\r\n      [FILTER.BY_COMPLETE]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? a.completed - b.completed\r\n          : b.completed - a.completed;\r\n      },\r\n      [FILTER.BY_TITLE]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? a.title.localeCompare(b.title)\r\n          : b.title.localeCompare(a.title);\r\n      },\r\n      [FILTER.BY_NAME]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? a.user.name.localeCompare(b.user.name)\r\n          : b.user.name.localeCompare(a.user.name);\r\n      },\r\n      [FILTER.BY_EMAIL]: (a, b) => {\r\n        return this.state.direction[FILTER_BY] === \"asc\"\r\n          ? a.user.email.localeCompare(b.user.email)\r\n          : b.user.email.localeCompare(a.user.email);\r\n      }\r\n    };\r\n\r\n    return this.state.todos.sort(callbackMap[FILTER_BY]);\r\n  };\r\n\r\n  render() {\r\n    const { sortField, buttonInnerText, isLoaded, buttonStyle } = this.state;\r\n    const preparedTodos = this.sortBy(sortField);\r\n\r\n    return (\r\n      <>\r\n        {isLoaded ? (\r\n          <table>\r\n            <thead>\r\n              <tr className=\"todo__row\">\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_ID)}\r\n                >\r\n                  Id\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_COMPLETE)}\r\n                >\r\n                  {/* isComplete symbol */}\r\n                  &#10004;\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_TITLE)}\r\n                >\r\n                  Title\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_NAME)}\r\n                >\r\n                  Name\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_EMAIL)}\r\n                >\r\n                  Email\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {preparedTodos.map(task => {\r\n                return (\r\n                  <tr className=\"todo__row\" key={task.id}>\r\n                    <TodoItem task={task} onSort={this.handleSort} />\r\n                    <TodoUser user={task.user} />\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <button\r\n            className={\"loadTodosButton \" + buttonStyle}\r\n            onClick={event => this.loadTodos(event)}\r\n          >\r\n            {buttonInnerText}\r\n          </button>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TodoList;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport TodoList from \"./components/TodoList\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <TodoList />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}