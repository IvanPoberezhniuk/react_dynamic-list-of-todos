{"version":3,"sources":["api/api.js","components/TodoItem.jsx","components/TodoUser.jsx","components/TodoList.jsx","App.js","index.js"],"names":["URL","getTodos","fetch","concat","then","res","json","getUsers","TodoItem","_ref","task","react_default","a","createElement","Fragment","className","id","type","defaultChecked","completed","title","TodoUser","user","name","email","FILTER","BY_ID","BY_COMPLETE","BY_TITLE","BY_NAME","BY_EMAIL","TodoList","_direction","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSort","sortField","setState","prevState","direction","assign","defineProperty","loadTodos","asyncToGenerator","regenerator_default","mark","_callee","_ref2","_ref3","todos","users","joinedTodosAndusers","wrap","_context","prev","next","buttonInnerText","buttonDisabled","Promise","all","sent","slicedToArray","joinTodosAndUsers","isLoaded","t0","buttonStyle","message","stop","map","todo","objectSpread","find","userId","sortBy","filterBy","_callbackMap","callbackMap","b","state","parseFloat","localeCompare","sort","_this2","_this$state","preparedTodos","onClick","key","components_TodoItem","onSort","components_TodoUser","disabled","Component","App","components_TodoList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.cdc0f3eb.chunk.js","sourcesContent":["const URL = \"https://jsonplaceholder.typicode.com\";\r\n\r\nexport const getTodos = () => {\r\n  return fetch(`${URL}/todos`)\r\n    .then(res => res.json());\r\n};\r\n\r\nexport const getUsers = () => {\r\n  return fetch(`${URL}/users`)\r\n    .then(res => res.json());\r\n};\r\n","import React from \"react\";\r\n\r\nconst TodoItem = ({ task }) => {\r\n  return (\r\n    <>\r\n      <td className=\"todos__td\">{task.id}</td>\r\n      <td className=\"todos__td\">\r\n        <input\r\n          className=\"todo__checkbox\"\r\n          type=\"checkbox\"\r\n          defaultChecked={task.completed}\r\n        />\r\n      </td>\r\n      <td className=\"todos__td\">{task.title}</td>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import React from \"react\";\r\n\r\nconst TodoUser = ({ user }) => {\r\n  return (\r\n    <>\r\n      <td className=\"todos__td\">{user.name}</td>\r\n      <td className=\"todos__td\">{user.email}</td>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoUser;\r\n","import React, { Component } from \"react\";\r\nimport { getTodos, getUsers } from \"../api/api\";\r\nimport TodoItem from \"./TodoItem\";\r\nimport TodoUser from \"./TodoUser\";\r\n\r\nconst FILTER = {\r\n  BY_ID: \"id\",\r\n  BY_COMPLETE: \"completed\",\r\n  BY_TITLE: \"title\",\r\n  BY_NAME: \"name\",\r\n  BY_EMAIL: \"email\"\r\n};\r\n\r\nclass TodoList extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      todos: [],\r\n      isLoaded: false,\r\n      buttonStyle: \"\",\r\n      buttonInnerText: \"Click...( ͡° ͜ʖ ͡°)\",\r\n      sortField: FILTER.BY_ID,\r\n      direction: {\r\n        [FILTER.BY_ID]: \"asc\",\r\n        [FILTER.BY_COMPLETE]: \"asc\",\r\n        [FILTER.BY_TITLE]: \"asc\",\r\n        [FILTER.BY_NAME]: \"asc\",\r\n        [FILTER.BY_EMAIL]: \"asc\"\r\n      },\r\n      buttonDisabled: false\r\n    };\r\n  }\r\n\r\n  handleSort = sortField => {\r\n    this.setState(prevState => {\r\n      return {\r\n        sortField,\r\n        direction: Object.assign(prevState.direction, {\r\n          [sortField]: prevState.direction[sortField] === \"asc\" ? \"desc\" : \"asc\"\r\n        })\r\n      };\r\n    });\r\n  };\r\n\r\n  loadTodos = async () => {\r\n    this.setState({\r\n      buttonInnerText: \"Loading...\",\r\n      buttonDisabled: true\r\n    });\r\n\r\n    try {\r\n      const [todos, users] = await Promise.all([getTodos(), getUsers()]);\r\n      const joinedTodosAndusers = this.joinTodosAndUsers(todos, users);\r\n\r\n      this.setState({\r\n        todos: joinedTodosAndusers,\r\n        isLoaded: true\r\n      });\r\n    } catch (err) {\r\n      this.setState({\r\n        buttonStyle: \"error\",\r\n        buttonInnerText: `${err.message}`\r\n      });\r\n    }\r\n  };\r\n\r\n  joinTodosAndUsers = (todos, users) => {\r\n    return todos.map(todo => ({\r\n      ...todo,\r\n      user: users.find(user => user.id === todo.userId)\r\n    }));\r\n  };\r\n\r\n  sortBy = filterBy => {\r\n    const callbackMap = {\r\n      [FILTER.BY_ID]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? parseFloat(a.id) - parseFloat(b.id)\r\n          : parseFloat(b.id) - parseFloat(a.id);\r\n      },\r\n\r\n      [FILTER.BY_COMPLETE]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? a.completed - b.completed\r\n          : b.completed - a.completed;\r\n      },\r\n      [FILTER.BY_TITLE]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? a.title.localeCompare(b.title)\r\n          : b.title.localeCompare(a.title);\r\n      },\r\n      [FILTER.BY_NAME]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? a.user.name.localeCompare(b.user.name)\r\n          : b.user.name.localeCompare(a.user.name);\r\n      },\r\n      [FILTER.BY_EMAIL]: (a, b) => {\r\n        return this.state.direction[filterBy] === \"asc\"\r\n          ? a.user.email.localeCompare(b.user.email)\r\n          : b.user.email.localeCompare(a.user.email);\r\n      }\r\n    };\r\n\r\n    return this.state.todos.sort(callbackMap[filterBy]);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      sortField,\r\n      buttonInnerText,\r\n      isLoaded,\r\n      buttonStyle,\r\n      buttonDisabled\r\n    } = this.state;\r\n    const preparedTodos = this.sortBy(sortField);\r\n\r\n    return (\r\n      <>\r\n        {isLoaded ? (\r\n          <table>\r\n            <thead>\r\n              <tr className=\"todo__row\">\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_ID)}\r\n                >\r\n                  Id\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_COMPLETE)}\r\n                >\r\n                  {/* isComplete symbol */}\r\n                  &#10004;\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_TITLE)}\r\n                >\r\n                  Title\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_NAME)}\r\n                >\r\n                  Name\r\n                </th>\r\n                <th\r\n                  className=\"todos__th\"\r\n                  onClick={() => this.handleSort(FILTER.BY_EMAIL)}\r\n                >\r\n                  Email\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {preparedTodos.map(task => {\r\n                return (\r\n                  <tr className=\"todo__row\" key={task.id}>\r\n                    <TodoItem task={task} onSort={this.handleSort} />\r\n                    <TodoUser user={task.user} />\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <button\r\n            className={\"loadTodosButton \" + buttonStyle}\r\n            onClick={this.loadTodos}\r\n            disabled={buttonDisabled}\r\n          >\r\n            {buttonInnerText}\r\n          </button>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TodoList;\r\n","import React from \"react\";\nimport \"./App.css\";\nimport TodoList from \"./components/TodoList\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <TodoList />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}